<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 페이지 - JT365.me</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
        }
        
        .gradient-orange {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
        }
        
        .sidebar-link {
            transition: all 0.3s;
        }
        
        .sidebar-link:hover {
            background: rgba(255, 107, 53, 0.1);
            border-left: 4px solid #FF6B35;
        }
        
        .sidebar-link.active {
            background: rgba(255, 107, 53, 0.15);
            border-left: 4px solid #FF6B35;
            font-weight: 600;
        }
        
        .stat-card {
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-orange text-white py-4 sticky top-0 z-30 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-cog text-2xl"></i>
                    <div>
                        <h1 class="text-xl font-bold">관리자 페이지</h1>
                        <p class="text-xs opacity-90">JT365.me Admin Dashboard</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/" class="px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-sm transition">
                        <i class="fas fa-home mr-2"></i>메인으로
                    </a>
                    <div id="admin-user-info" class="text-sm">
                        <!-- JavaScript로 채워짐 -->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-lg hidden lg:block">
            <nav class="p-4 space-y-2">
                <a href="#dashboard" onclick="showSection('dashboard')" class="sidebar-link active flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-chart-line w-5"></i>
                    <span>대시보드</span>
                </a>
                <a href="#users" onclick="showSection('users')" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-users w-5"></i>
                    <span>회원 관리</span>
                </a>
                <a href="#restaurants" onclick="showSection('restaurants')" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-utensils w-5"></i>
                    <span>맛집 관리</span>
                </a>
                <a href="#agencies" onclick="showSection('agencies')" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-plane w-5"></i>
                    <span>여행사 관리</span>
                </a>
                <a href="#festivals" onclick="showSection('festivals')" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-calendar-alt w-5"></i>
                    <span>축제 관리</span>
                </a>
                <a href="#community" onclick="showSection('community')" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg">
                    <i class="fas fa-comments w-5"></i>
                    <span>커뮤니티 관리</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">대시보드</h2>
                    <p class="text-gray-600">전라도 로컬 미식 슈퍼로드 통계 및 현황</p>
                </div>

                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card bg-white rounded-xl p-6 shadow-lg">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center">
                                <i class="fas fa-users text-white text-xl"></i>
                            </div>
                            <span class="text-blue-500 text-sm font-semibold">+12%</span>
                        </div>
                        <h3 class="text-gray-600 text-sm mb-1">총 회원 수</h3>
                        <p class="text-3xl font-bold text-gray-800" id="stat-users">0</p>
                    </div>

                    <div class="stat-card bg-white rounded-xl p-6 shadow-lg">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center">
                                <i class="fas fa-utensils text-white text-xl"></i>
                            </div>
                            <span class="text-orange-500 text-sm font-semibold">350+</span>
                        </div>
                        <h3 class="text-gray-600 text-sm mb-1">등록 맛집</h3>
                        <p class="text-3xl font-bold text-gray-800" id="stat-restaurants">350</p>
                    </div>

                    <div class="stat-card bg-white rounded-xl p-6 shadow-lg">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center">
                                <i class="fas fa-plane text-white text-xl"></i>
                            </div>
                            <span class="text-green-500 text-sm font-semibold">32개</span>
                        </div>
                        <h3 class="text-gray-600 text-sm mb-1">여행사</h3>
                        <p class="text-3xl font-bold text-gray-800" id="stat-agencies">32</p>
                    </div>

                    <div class="stat-card bg-white rounded-xl p-6 shadow-lg">
                        <div class="flex items-center justify-between mb-4">
                            <div class="bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center">
                                <i class="fas fa-calendar-alt text-white text-xl"></i>
                            </div>
                            <span class="text-purple-500 text-sm font-semibold">60개</span>
                        </div>
                        <h3 class="text-gray-600 text-sm mb-1">축제 이벤트</h3>
                        <p class="text-3xl font-bold text-gray-800" id="stat-festivals">60</p>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">
                        <i class="fas fa-clock text-orange-500 mr-2"></i>최근 활동
                    </h3>
                    <div class="space-y-4" id="recent-activity">
                        <p class="text-gray-500 text-center py-8">활동 내역이 없습니다.</p>
                    </div>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="admin-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">회원 관리</h2>
                        <p class="text-gray-600">등록된 회원 목록 및 관리</p>
                    </div>
                    <button onclick="openUserModal()" class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition shadow-lg">
                        <i class="fas fa-plus mr-2"></i>회원 추가
                    </button>
                </div>

                <!-- Search & Filter -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <input type="text" id="user-search" placeholder="이름 또는 이메일 검색..." 
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                        <select id="user-role-filter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option value="all">모든 권한</option>
                            <option value="admin">관리자</option>
                            <option value="merchant">사업자</option>
                            <option value="user">일반회원</option>
                        </select>
                        <button onclick="searchUsers()" class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold transition">
                            <i class="fas fa-search mr-2"></i>검색
                        </button>
                    </div>
                </div>

                <!-- Users Table -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50 border-b">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">이름</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">이메일</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">권한</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">상태</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">가입일</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">관리</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body" class="divide-y divide-gray-200">
                                <tr>
                                    <td colspan="7" class="px-6 py-8 text-center text-gray-500">
                                        <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                                        <p>데이터를 불러오는 중...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Restaurants Section -->
            <section id="restaurants" class="admin-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">맛집 관리</h2>
                        <p class="text-gray-600">등록된 맛집 목록 및 관리</p>
                    </div>
                    <button onclick="alert('맛집 추가 기능은 준비 중입니다.')" class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition shadow-lg">
                        <i class="fas fa-plus mr-2"></i>맛집 추가
                    </button>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6">
                    <p class="text-gray-600 text-center py-12">
                        <i class="fas fa-utensils text-gray-400 text-4xl mb-4"></i><br>
                        맛집 관리 기능은 데이터 파일(JSON)을 통해 관리됩니다.<br>
                        <code class="text-sm bg-gray-100 px-2 py-1 rounded">docs/data/restaurants.json</code>
                    </p>
                </div>
            </section>

            <!-- Other Sections (간단한 플레이스홀더) -->
            <section id="agencies" class="admin-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">여행사 관리</h2>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <p class="text-gray-600">여행사 관리 기능 (준비 중)</p>
                </div>
            </section>

            <section id="festivals" class="admin-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">축제 관리</h2>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <p class="text-gray-600">축제 관리 기능 (준비 중)</p>
                </div>
            </section>

            <section id="community" class="admin-section hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">커뮤니티 관리</h2>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <p class="text-gray-600">커뮤니티 관리 기능 (준비 중)</p>
                </div>
            </section>
        </main>
    </div>

    <!-- User Modal -->
    <div id="user-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full p-8 relative">
            <button onclick="closeUserModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <i class="fas fa-times text-2xl"></i>
            </button>
            
            <h3 class="text-2xl font-bold text-gray-800 mb-6" id="user-modal-title">회원 추가</h3>
            
            <form id="user-form" class="space-y-4">
                <input type="hidden" id="user-id">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">이름</label>
                    <input type="text" id="user-name" required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">이메일</label>
                    <input type="email" id="user-email" required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">비밀번호</label>
                    <input type="password" id="user-password" minlength="6"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                    <p class="text-xs text-gray-500 mt-1">수정 시 비워두면 기존 비밀번호 유지</p>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">권한</label>
                    <select id="user-role" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                        <option value="user">일반회원</option>
                        <option value="merchant">사업자</option>
                        <option value="admin">관리자</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">상태</label>
                    <select id="user-status" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                        <option value="active">활성</option>
                        <option value="inactive">비활성</option>
                        <option value="suspended">정지</option>
                    </select>
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition">
                        <i class="fas fa-save mr-2"></i>저장
                    </button>
                    <button type="button" onclick="closeUserModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-lg font-semibold transition">
                        취소
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Load Scripts -->
    <script src="./auth.js"></script>
    <script src="./admin.js"></script>
</body>
</html>
